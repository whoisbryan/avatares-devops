name: Docker Image CI

on:
  push:
    branches: [ "main" ]

jobs:

  docker:

    runs-on: ubuntu-latest

    steps:
    - name: Docker Login
  # You may pin to the exact commit or the version.
  # uses: docker/login-action@e92390c5fb421da1463c202d546fed0ec5c39f20
    - uses: docker/login-action@v3.1.0
      with:
        # Username used to log against the Docker registry
        username: 
        # Password or personal access token used to log against the Docker registry
        password: # optional

          
    - uses: actions/checkout@v3

    - name: Build the backend Docker image
      run: docker build . --file api/Dockerfile --tag backend-devops-pj1:$(date +%s)
      
    - name: Build the frontend Docker image
      run: docker build . --file web/Dockerfile --tag frontend-devops-pj1:$(date +%s)